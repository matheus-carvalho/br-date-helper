{"version":3,"file":"br-date-helper.js","sourceRoot":"","sources":["../../src/providers/br-date-helper.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\r\n \r\n@Injectable()\r\nexport class BrDateHelper {\r\n\r\n\tconstructor(){\r\n\t}\r\n\r\n\tadd(days: number, months: number, years: number){\r\n\t\tlet date = new Date();\r\n\t\tdate = new Date(date.setDate(date.getDate() + days));\r\n\t\tdate = new Date(date.setMonth(date.getMonth() + months));\r\n\t\tdate = new Date(date.setFullYear(date.getFullYear() + years));\r\n\t\treturn this.formatDate(date);\r\n\t}\r\n\r\n\tyesterday(){\r\n\t\tlet date = new Date();\r\n\t\tdate = new Date(date.setDate(date.getDate()-1));\r\n\t\treturn this.formatDate(date);\r\n\t}\r\n\t\r\n  today(){\r\n\t\tlet date = new Date();\r\n\t\treturn this.formatDate(date);\r\n\t}\r\n\r\n\ttomorrow(){\r\n\t\tlet date = new Date();\r\n\t\tdate = new Date(date.setDate(date.getDate()+1));\r\n\t\treturn this.formatDate(date);\r\n\t}\r\n  \r\n  dateDiff(greaterDate: string, lesserDate: string){\r\n\t\tlet ma = this.parseDate(greaterDate);\r\n\t\tlet me = this.parseDate(lesserDate);\r\n\r\n\t\tlet ret: any = {\r\n\t\t\t'years': ma.getFullYear() - me.getFullYear() > 0 ? ma.getFullYear() - me.getFullYear() : 0,\r\n\t\t\t'months': ma.getMonth() - me.getMonth() >= 0 ? ma.getMonth() - me.getMonth() : ma.getMonth() - me.getMonth() + 12,\r\n\t\t\t'days': ma.getDate() - me.getDate() >= 0 ? ma.getDate() - me.getDate() : ma.getDate() - me.getDate() + this.serializeNegativeDays(me.getMonth()+1)\r\n\t\t};\r\n\r\n\t\tif (ma.getMonth() < me.getMonth())\r\n\t\t\tret.years -= 1;\r\n\t\telse if (ma.getMonth() == me.getMonth())\r\n\t\t\tif (ma.getDate() < me.getDate())\r\n\t\t\t\tret.years -= 1;\r\n\r\n\t\tif (ma.getMonth() > me.getMonth())\r\n\t\t\tif (ma.getDate() < me.getDate())\r\n\t\t\t\tret.months -= 1;\r\n\r\n\t\treturn ret;\r\n  }\r\n\t\r\n\tprivate formatDate(date: Date){\r\n\t\tlet ret: any = date.getDate() >= 10 ? date.getDate() : \"0\"+date.getDate();\r\n\t\tret += \"/\";\r\n\t\tret += date.getMonth()+1 >= 10 ? date.getMonth()+1 : \"0\"+(date.getMonth()+1);\r\n\t\tret += \"/\";\r\n\t\tret += date.getFullYear();\r\n\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tprivate parseDate(date: string){\r\n\t\tlet dia = Number.parseInt(date.split(\"/\")[0]);\r\n\t\tlet mes = Number.parseInt(date.split(\"/\")[1]) - 1;\r\n\t\tlet ano = Number.parseInt(date.split(\"/\")[2]);\r\n\t\tlet ret: any = new Date(ano, mes, dia);\r\n\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tprivate serializeNegativeDays(month){\r\n\t\tswitch(month)\r\n\t\t{\r\n\t\t\tcase 1:\r\n\t\t\tcase 3:\r\n\t\t\tcase 5:\r\n\t\t\tcase 7:\r\n\t\t\tcase 8:\r\n\t\t\tcase 10:\r\n\t\t\tcase 12:\r\n\t\t\t\treturn 31;\r\n\t\t\tcase 2:\r\n\t\t\t\treturn 28;\r\n\t\t\tcase 4:\r\n\t\t\tcase 6:\r\n\t\t\tcase 9:\r\n\t\t\tcase 11:\r\n\t\t\t\treturn 30;\r\n\t\t}\r\n\t}\r\n}"]}